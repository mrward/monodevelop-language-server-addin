<ExtensionModel>
	<Runtime>
		<Import assembly="MonoDevelop.LanguageServer.Client.dll" />
	</Runtime>

	<ConditionType
		id="FileHasLanguageClient"
		type="MonoDevelop.LanguageServer.Client.FileHasLanguageClientCondition" />

	<Extension path="/MonoDevelop/Ide/Composition">
		<Assembly file="MonoDevelop.LanguageServer.Client.dll" />
	</Extension>

	<Extension path="/MonoDevelop/Ide/TextEditorExtensions">
		<Class
			id="LanguageServer.Client.TextEditorExtension"
			class="MonoDevelop.LanguageServer.Client.LanguageClientTextEditorExtension" />
	</Extension>

	<Extension path="/MonoDevelop/SourceEditor2/ContextMenu/Editor">
		<Condition id="FileHasLanguageClient" fileExtensions=".ps1,.psm1,.psd1">
			<CommandItem
				id="MonoDevelop.Refactoring.RefactoryCommands.FindReferences"
				insertafter="MonoDevelop.SourceEditor.SourceEditorCommands.MarkerOperations"
				insertbefore="MonoDevelop.Debugger.DebugCommands.ExpressionEvaluator" />
			<CommandItem
				id="MonoDevelop.Refactoring.RefactoryCommands.GotoDeclaration"
				insertafter="MonoDevelop.SourceEditor.SourceEditorCommands.MarkerOperations"
				insertbefore="MonoDevelop.Debugger.DebugCommands.ExpressionEvaluator" />
			<CommandItem
				id="MonoDevelop.Ide.Commands.EditCommands.Rename"
				insertafter="MonoDevelop.SourceEditor.SourceEditorCommands.MarkerOperations"
				insertbefore="MonoDevelop.Debugger.DebugCommands.ExpressionEvaluator" />
		</Condition>
	</Extension>

	<Extension path="/MonoDevelop/Ide/Pads">
		<Pad
			id="LanguageServer.Client.LanguageClientOutputPad"
			defaultLayout="*"
			defaultPlacement="Center Bottom"
			defaultStatus="AutoHide"
			icon="md-console"
			class="MonoDevelop.LanguageServer.Client.LanguageClientOutputPad"
			_label="Language Client Log" />
	</Extension>

	<Extension path="/MonoDevelop/Ide/Editor/TooltipProviders">
		<Provider
			id="LanguageServer.Client.LanguageClientTooltipProvider"
			insertafter="CompileError"
			class="MonoDevelop.LanguageServer.Client.LanguageClientTooltipProvider" />
	</Extension>

	<Extension path="/MonoDevelop/Core/SystemInformation">
		<Class class="MonoDevelop.LanguageServer.Client.LanguageClientSystemInformation" />
	</Extension>

	<Extension path="/MonoDevelop/Ide/StartupHandlers">
		<Class class="MonoDevelop.LanguageServer.Client.LanguageClientStartupHandler" />
	</Extension>
</ExtensionModel>
